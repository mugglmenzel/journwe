var Zanimo=function(){var g=function(a){var f=Zanimo.async.defer();f.resolve(a);return f.promise};g.kDelta=50;g.delay=function(a,f){var b=Zanimo.async.defer();setTimeout(function(){b.resolve(f||a)},a);return b.promise};g.transition=function(a,f,b,d,c){var e=Zanimo.async.defer(),j=-1,i=!1;if(!a||!a.nodeType||!(a.nodeType>=0))return e.resolve(Zanimo.async.reject("Zanimo transition Error : no given dom Element!")),e.promise;var h=function(){i=!0;e.resolve(a);a.removeEventListener(Zanimo.utils.prefix.evt,
h,!1)};a.addEventListener(Zanimo.utils.prefix.evt,h,!1);Zanimo.delay(d+g.kDelta).then(function(){i||e.resolve(Zanimo.async.reject("Zanimo transition Error on "+a.id+" with "+f+":"+b))});j=Zanimo.utils.addTransition(a,f);Zanimo.utils.setAttributeAt(a,"TransitionDuration",d+"ms",j);Zanimo.utils.setAttributeAt(a,"TransitionTimingFunction",c||"linear",j);Zanimo.utils.setProperty(a,f,b);return e.promise};return g}();
(function(g,a){a.enqueue=function(a){setTimeout(a,1)};a.isPromise=function(a){return a&&typeof a.then==="function"};a.defer=function(){var b=[],d;return{resolve:function(c){if(b){d=f(c);for(var c=0,e=b.length;c<e;c++)(function(b){a.enqueue(function(){d.then.apply(d,b)})})(b[c]);b=void 0}},promise:{then:function(c,e){var f=a.defer(),c=c||function(a){return a},e=e||function(b){return a.reject(b)},g=function(a){f.resolve(c(a))},h=function(a){f.resolve(e(a))};b?b.push([g,h]):a.enqueue(function(){d.then(g,
h)});return f.promise}}}};var f=function(b){return b&&b.then?b:{then:function(d){var c=a.defer();a.enqueue(function(){c.resolve(d(b))});return c.promise}}};a.reject=function(b){return{then:function(d,c){var e=a.defer();a.enqueue(function(){e.resolve(c(b))});return e.promise}}};g.when=a.when=function(b,d,c){var e=a.defer(),g,d=d||function(a){return a},c=c||function(b){return a.reject(b)},i=function(b){try{return d(b)}catch(c){return a.reject(c)}},h=function(b){try{return c(b)}catch(d){return a.reject(d)}};
a.enqueue(function(){f(b).then(function(a){g||(g=!0,e.resolve(f(a).then(i,h)))},function(a){g||(g=!0,e.resolve(h(a)))})});return e.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
(function(g,a,f){a.prefixed=["transform"];a.prefix={webkit:{evt:"webkitTransitionEnd",name:"webkit",css:"-webkit-"},opera:{evt:"oTransitionEnd",name:"O",css:"-o-"},firefox:{evt:"transitionend",name:"Moz",css:"-moz-"}};a.browser=f.match(/.*(Chrome|Safari).*/)?"webkit":f.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":"webkit";a.prefix=a.prefix[a.browser];a.transitionProperty=a.prefix.name+"TransitionProperty";a.addTransition=function(b,d,c,e){d=a._prefixCSS(d);c=b.style[a.transitionProperty];
e=(c?c.split(", "):[]).indexOf(d);return e===-1?a._appendToProperty(b,"TransitionProperty",d):e};a.setAttributeAt=function(b,d,c,e){var f=(b.style[a.prefix.name+d]||"").split(",");f[e]=c;b.style[a.prefix.name+d]=f.toString()};a.setProperty=function(b,d,c){b.style[a._prefixAndCapitalize(d)]=c};a._appendToProperty=function(a,d,c){var e=a.style[d]||"";a.style[d]=e.length>0?e+", "+c:c;return a.style[d].split(", ").indexOf(c)};a._prefixCSS=function(b){return a.prefixed.indexOf(b)===-1?b:a.prefix.css+b};
a._prefixAndCapitalize=function(b){b=a._prefixCSS(b);return b.split("-").reduce(function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)})}})(window.Zanimo,window.Zanimo.utils=window.Zanimo.utils||{},navigator.userAgent);
