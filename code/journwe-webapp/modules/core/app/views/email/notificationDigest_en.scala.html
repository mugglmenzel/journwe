@(notis: Map[models.notifications.ENotificationTopics, Map[Object, List[models.notifications.Notification]]], freq: models.notifications.ENotificationFrequency)
@import models.notifications.ENotificationFrequency
@import models.notifications.ENotificationTopics

@import models.notifications.Notification

@freqLast = {
    @freq match {
        case ENotificationFrequency.DAILY => {24hrs}
        case ENotificationFrequency.WEEKLY => {week}
        case ENotificationFrequency.IMMEDIATELY => {5min}
        case ENotificationFrequency.NONE => {20yrs}
    }
}

<html>
    <head>
        <style>
        ul { margin-top : 0em; list-style-type : circle; }
        p { margin : 0em; }
        blockquote { padding-left : 96px; }
        </style>
    </head>

    <body>
        @notis.map {
            case (topic, objNotis) if topic.equals(ENotificationTopics.ADVENTURE) => {
                <h2>Within the last @freqLast the following updates were made in JournWes you are participating:</h2>

                @objNotis.map {
                    case (adv: models.adventure.Adventure, notifs) if adv.isInstanceOf[models.adventure.Adventure] => {
                        <p>
                            <img width="96" height="96" align="center" src="http://www.journwe.com/thumbnail?w=96&amp;h=96&amp;u=@adv.getImage()&amp;t=@adv.getImageTimestamp()"/>
                            <a href="http://www.journwe.com/adventure/@adv.getId()" target="_blank">
                                <span style="font-size: 24px; padding-left: 20px;">@adv.getName</span>
                            </a>
                        </p>

                        <blockquote>
                            <p>
                                <strong>JournWe Updates:</strong>
                            </p>
                            <ul>
                            @notifs.map { notif =>
                                <li>@notif.getSubject</li>
                            }
                            </ul>
                        </blockquote>
                    }

                }


            }
            case (topic, objNotis) if topic.equals(ENotificationTopics.USER) => {


                @objNotis.map {
                    case (obj, notifs) => {
                        <h2>Within the last @freqLast the following updates were made in your user profile:</h2>

                        <blockquote>
                            <p>
                                <strong>User Profile Updates:</strong>
                            </p>
                            <ul>
                            @notifs.map { notif =>
                                <li>@notif.getSubject</li>
                            }
                            </ul>
                        </blockquote>
                        }
                    }

                }
            case (topic, objNotis) if topic.equals(ENotificationTopics.GENERAL) => {

                @objNotis.map {
                    case (obj, notifs) => {
                        <h2>Within the last @freqLast the following updates occured on JournWe.com:</h2>

                        <blockquote>
                            <p>
                                <strong>General Updates:</strong>
                            </p>
                            <ul>
                            @notifs.map { notif =>
                                <li>@notif.getSubject</li>
                            }
                            </ul>
                        </blockquote>
                    }
                }
            }
        }


        <br>
        <p>
            Have lots of fun travelling guys,<img width="28" height="36" style="padding-left: 20px;" align="top" src="http://www.journwe.com/cdn-assets/img/journwe_logo.png"/> <br>
            <strong>The JournWe Team</strong>
        </p>
        <br> <br>
        <p>For changes in the frequence you'd like to receive your summary of JournWe changes please check on the "Notifications" setting in your Profile on the
            JournWe website.
            <br> <br>
            In case you have questions or feedback on JournWe.com we would love to receive your mail to <a href="mailto:info@@journwe.com" target="_blank">info@@journwe.com</a>
        </p>

    </body></html>