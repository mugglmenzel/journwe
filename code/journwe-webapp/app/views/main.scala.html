@(title: String)(header: Html = Html("Welcome"))(content: Html)

@import models.dao._
@import play.mvc.Controller._
@import com.feth.play.module.pa.views.html._
@import com.feth.play.module.pa.providers.AuthProvider.Registry

<!DOCTYPE html>

<html lang="en">
<head>
	<title>JournWe - @Html(title)</title>
    <link rel="stylesheet" href="@routes.Assets.at("css/bootstrap.min.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/bootstrap-responsive.min.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/jasny-bootstrap.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/jasny-bootstrap-responsive.css")">
    <link rel="stylesheet" href="@routes.Assets.at("css/bootstrap-editable.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/bootstrapSwitch.css")">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Advent+Pro:300&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="@routes.Assets.at("css/main.css")">
	<link rel="shortcut icon" type="image/png" href="@routes.Assets.at("img/favicon.png")">
	<script src="@routes.Assets.at("js/jquery-1.9.0.min.js")" type="text/javascript"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="@routes.Assets.at("js/jasny-bootstrap.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("js/bootstrap-editable.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/bootstrapSwitch.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/ckeditor/ckeditor.js")" type="text/javascript"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-39156308-1']);
	  _gaq.push(['_setDomainName', 'journwe.com']);
	  _gaq.push(['_trackPageview']);
	
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<button type="button" class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				
				<a href="@routes.ApplicationController.index" class="brand" style="vertical-align:bottom;"><i class="iconic-compass"></i>
					JournWe</a>
					<!--<img src="@routes.Assets.at("img/suitcase_brand.png")" style="height: 14px">-->
				
				<div class="nav-collapse collapse">
					<ul class="nav">
						<li class="active"><a href="@routes.ApplicationController.index">Home</a></li>
						<li><a href="@routes.ApplicationController.about">About</a></li>
						<li><a href="#contact">Contact</a></li>
                        <li><a href="@routes.ApplicationController.admin">Admin</a></li>
					</ul>
				</div>

                @currentAuth() { auth =>
                    @if(auth != null && new UserDAO().findByAuthUserIdentity(auth) != null) {
                        <p class="navbar-text pull-right">Hello @{new UserDAO().findByAuthUserIdentity(auth).getName()} (<a href="@com.feth.play.module.pa.controllers.routes.Authenticate.logout">Logout</a>)</p>
                        
                    } else {
                   		<div class="btn-group pull-right">
							<a class="btn btn-primary" href="@Registry.getProviders().iterator().next().getUrl()"><i class="icon-user icon-white"></i> Login</a>
							<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
								<span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
	                    @forProviders() { p =>
								<li><a href="@p.getUrl()"><i class="icon-lock"></i> @(p.getKey().substring(0, 1).toUpperCase + p.getKey().substring(1, p.getKey().length).toLowerCase)</a></li>
		                }
		                	</ul>
						</div>
	                }
                }
			</div>
		</div>
	</div>
	<div class="main" style="width=device-width;">
		<div class="container">
			<div class="page-header">
				<h1>@header</h1>
			</div>
			@if(flash("error")) {
			<div class="alert alert-error">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("error")
			</div>
			}
			@if(flash("success")) {
			<div class="alert alert-success">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("success")
			</div>
			}
			@if(flash("info")) {
			<div class="alert alert-info">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("info")
			</div>
			}
			@content
		</div>
	</div>
</body>
</html>