@(title: String)(content: Html)

@import play.mvc.Controller._
@import com.feth.play.module.pa.views.html._
@import com.feth.play.module.pa.providers.AuthProvider.Registry

<!DOCTYPE html>

<html lang="en">
<head>
	<title>@title</title>
	<link rel="stylesheet" href="@routes.Assets.at("css/bootstrap.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/bootstrap-responsive.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/jasny-bootstrap.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/jasny-bootstrap-responsive.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/bootstrapSwitch.css")">
	<link rel="stylesheet" href="@routes.Assets.at("css/main.css")">
	<link rel="shortcut icon" type="image/png" href="@routes.Assets.at("img/favicon.png")">
	<script src="@routes.Assets.at("js/jquery-1.9.0.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/bootstrap.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/jasny-bootstrap.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/bootstrapSwitch.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/jqBootstrapValidation.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("js/ckeditor/ckeditor.js")" type="text/javascript"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-39156308-1']);
	  _gaq.push(['_setDomainName', 'journwe.com']);
	  _gaq.push(['_trackPageview']);
	
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<button type="button" class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="brand" href="@routes.ApplicationController.index">JournWe</a>
				<div class="nav-collapse collapse">
					<ul class="nav">
						<li class="active"><a href="@routes.ApplicationController.index">Home</a></li>
						<li><a href="#about">About</a></li>
						<li><a href="#contact">Contact</a></li>
					</ul>
				</div>

                @currentAuth() { auth =>
                    @if(auth != null && User.findByAuthUserIdentity(auth) != null) {
                        <p class="navbar-text pull-right">Hello @User.findByAuthUserIdentity(auth).getName() (<a href="@com.feth.play.module.pa.controllers.routes.Authenticate.logout">Logout</a>)</p>
                        
                    } else {
                   		<div class="btn-group pull-right">
							<a class="btn btn-primary" href="@Registry.getProviders().iterator().next().getUrl()"><i class="icon-user icon-white"></i> Login</a>
							<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
								<span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
	                    @forProviders() { p =>
								<li><a href="@p.getUrl()"><i class="icon-lock"></i> @(p.getKey().substring(0, 1).toUpperCase + p.getKey().substring(1, p.getKey().length).toLowerCase)</a></li>
		                }
		                	</ul>
						</div>
	                }
                }
			</div>
		</div>
	</div>
	<div class="main" style="width=device-width;">
		<div class="container">
			<div class="page-header">
				<h1>@Html(title)</h1>
			</div>
			@if(flash("error")) {
			<div class="alert alert-error">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("error")
			</div>
			}
			@if(flash("success")) {
			<div class="alert alert-success">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("success")
			</div>
			}
			@if(flash("info")) {
			<div class="alert alert-info">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				@flash("info")
			</div>
			}
			@content
		</div>
	</div>
	<script>
		$.jqBootstrapValidation({autoAdd: {helpBlocks: false}})
	</script>
</body>
</html>
