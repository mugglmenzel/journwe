@(user: models.user.User)

@import models.notifications.ENotificationFrequency

@main("User Profile") {
    <h1>User Profile of @user.getName <small>- A @user.getRole User</small></h1>
} {

    <div class="jrn-container">
        <h2 id="options"><i class="icon-cogs"></i> User Options</h2>
        <div class="row">
            <div class="col-12">
                I want to be notified...
                 <div class="btn-group btn-select-notification-frequency">

                    <button class="btn @if(user.getNotificationDigest == ENotificationFrequency.IMMEDIATELY) {active}"
                    href="@routes.UserController.setMailDigestFrequency(user.getId, ENotificationFrequency.IMMEDIATELY.toString)"><i class="icon-exclamation-sign"></i> Immediately</button>
                    <button class="btn @if(user.getNotificationDigest == ENotificationFrequency.DAILY) {active}"
                    href="@routes.UserController.setMailDigestFrequency(user.getId, ENotificationFrequency.DAILY.toString)"><i class="icon-time"></i> Daily</button>
                    <button class="btn @if(user.getNotificationDigest == ENotificationFrequency.WEEKLY) {active}"
                    href="@routes.UserController.setMailDigestFrequency(user.getId, ENotificationFrequency.WEEKLY.toString)"><i class="icon-calendar"></i> Weekly</button>
                    <button class="btn @if(user.getNotificationDigest == ENotificationFrequency.NONE) {active}"
                    href="@routes.UserController.setMailDigestFrequency(user.getId, ENotificationFrequency.NONE.toString)"><i class="icon-stop"></i> None</button>
                 </div>

                <script>
                    $('.btn-select-notification-frequency button').click(function(){
                    var el = $(this),
                    html = el.html();

                    el.css({width:el.width()+"px"})
                    .html('<i class="icon-spin icon-spinner"></i>');

                    $.post(el.attr('href'), function(json){
                    var state = json;

                    el.css({width:""})
                    .html(html);

                    el.parent().find('.active').removeClass('active');
                    el.addClass('active');
                    });
                    return false;
                    });
                </script>
            </div>
        </div>

    </div>

    <div class="jrn-container">
        <h2 id="jorunwes"><i class="icon-fighter-jet"></i> JournWes <small>- 400</small></h2>
        <div class="row">
            <div class="col-12">
                JournWes parade, just a few...
            </div>
        </div>
    </div>


    <div class="jrn-container">
        <h2 id="badges"><i class="icon-trophy"></i> Badges</h2>
        <div class="row">
            <div class="col-12">
                Badges...
            </div>
        </div>
    </div>

}